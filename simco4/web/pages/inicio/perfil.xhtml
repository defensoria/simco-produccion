<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form class="form-horizontal" enctype="multipart/form-data">
                <div class="panel panel-default" style="background:#F5F5F5">
                    <div class="panel-body">
                        <table style="width:100%">
                            <tr>
                                <td>
                                    <span style="color:#0074cc;font-size:x-large">Perfil</span>
                                </td>
                                <td>
                                    <a class="btn btn-primary" jsf:onclick="return guardarImagen()" jsf:action="#{usuarioDetalleController.agregarImagen()}">
                                        <span class="glyphicon glyphicon-floppy-disk" />Guardar
                                    </a>
                                    <script>function refrescar(a){if (a.status === "complete"){info("Se realizaron los cambios")}}</script>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <hr/>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Código</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.codigo}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">DNI</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.dni}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Nombre</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.nombre}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Apellido paterno</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.apellidoPaterno}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Apellido materno</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.apellidoMaterno}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Correo electrónico</label>
                            <label class="col-sm-2 control-label" style="text-align:left">#{usuarioDetalleController.usuario.email}</label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Imagen</label>
                            <label class="col-sm-2 control-label" style="text-align:left">
                                <h:inputFile class="cMedio" value="#{usuarioDetalleController.file1}"/>
                            </label>
                        </div>
                        <div jsf:rendered="#{usuarioDetalleController.usuario.ruta != null}">
                            <table class="table table-striped">
                                <tr>
                                    <td>Imagen</td>
                                    <td>Ver</td>
                                </tr>
                                <tr>
                                    <td>#{usuarioDetalleController.usuario.ruta}</td>
                                    <td>
                                        
                                        <a target="_blank" href="/simco/DownloadFileServlet?fileName=#{usuarioDetalleController.usuario.ruta}">
                                            <span class="glyphicon glyphicon-picture" />
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <script>/*<![CDATA[*/function guardarImagen(){if ($(".cMedio").val() !== ""){if (!comprueba_extension($(".cMedio").val())){alertar("Debe de ingresar un archivo de tipo imagen (.jpe o .png o.gif)"); return false}}return true}function comprueba_extension(b){extensiones_permitidas = new Array(".gif", ".jpg", ".png"); extension = (b.substring(b.lastIndexOf("."))).toLowerCase(); var c = false; for (var a = 0; a < extensiones_permitidas.length; a++){if (extensiones_permitidas[a] === extension){c = true; break}}return c}; /*]]>*/</script>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
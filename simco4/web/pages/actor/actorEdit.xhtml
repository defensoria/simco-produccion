<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:jsf="http://xmlns.jcp.org/jsf" 
      xmlns:gc="http://xmlns.jcp.org/jsf/composite/gc">
    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form class="form-horizontal" id="idForm">
                <script>
                    sessionStorage.setItem('menuHijoSession', 'EditarActor');
                    $(document).ready(function () {
                        $('#idBotonGuardar').on('click', function () {
                            $("#idPanelBodyActuacion").slideDown(400).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            if ($('#idDniActor').val() !== "") {
                                if ($('#idDniActor').val().length !== 8) {
                                    $('#idDniActor').addClass('error');
                                    alertar("El DNI debe tener 8 digitos");
                                    return false;
                                } else {
                                    $('#idDniActor').removeClass('error');
                                }
                            }
                            if ($('#idActorNombre').val() === "") {
                                $('#idActorNombre').addClass('error');
                                alertar("Debe de ingresar el nombre del actor");
                                return false;
                            } else {
                                $('#idActorNombre').removeClass('error');
                            }
                            confirmar();
                            return false;
                        });
                    });
                </script>
                <h:panelGroup id="idPanelPersona" rendered="#{actorController.actor.tipoGeneral == 'PE'}">
                    <div class="panel panel-default" style="width:100%">
                        <div class="panel-heading">
                            <table style="width:100%">
                                <tr>
                                    <td>
                                        <span class="glyphicon glyphicon-user" style="font-size:medium"></span>
                                        <span class="text-resalt-comun">Editar población</span>
                                    </td>
                                    <td style="text-align:right">
                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                        <a class="btn btn-primary" id="idBotonGuardar">
                                            <span class="glyphicon glyphicon-floppy-disk"/>Guardar
                                        </a>
                                        &#160;&#160;
                                        <a class="btn btn-danger" jsf:action="#{actorController.regresarBusquedaEdit()}">
                                            <span class="glyphicon glyphicon-share"/>Regresar
                                        </a>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id="idPanelBodyActuacion" class="panel-body">
                            <table style="width:100%">
                                <tr style="width:80%">
                                    <td>
                                        <h:panelGroup id="addAcciones">
                                            <div class="form-group">
                                                <table style="width:100%">
                                                    <tr>
                                                        <td style="width:50%;padding-right:5px">
                                                            <div class="panel panel-featured-top-primary">
                                                                <div class="panel-body">
                                                                    <span class="text-resalt-primary">Datos generales del actor</span>
                                                                    <br/><br/><br/>
                                                                    <table style="width:100%">
                                                                        <tr>
                                                                            <td>
                                                                                <b>DNI:</b>
                                                                            </td>
                                                                            <td>
                                                                                <input autocomplete="off" type="text" maxlength="8" style="width: 50%" jsf:value="#{actorController.actor.dni}" placeholder="DNI" id="idDniActor" onkeypress="return soloNumbero(event)" />
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                    <br/>
                                                                    <h:panelGroup id="idPanelPoblacion">
                                                                        <table style="width: 100%">
                                                                            <tr>
                                                                                <td style="width: 34%">
                                                                                    <label>Tipo:</label>
                                                                                    <h:selectOneMenu value="#{actorController.actor.tipoPoblacion}" onchange="loadingModal()">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaTipoPoblacion}" />
                                                                                        <f:ajax listener="#{actorController.cargarAjaxListaSubTipo1()}" render="idPanelPoblacion" onevent="closeModal"/>
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td style="width: 34%">
                                                                                    <label>Subtipo1:</label>
                                                                                    <h:selectOneMenu value="#{actorController.actor.subTipo1Poblacion}" onchange="loadingModal()">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo1Poblacion}" />
                                                                                        <f:ajax listener="#{actorController.cargarAjaxListaSubTipo2()}" render="idPanelPoblacion" onevent="closeModal"/>
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td>
                                                                                    <label>Subtipo2:</label>
                                                                                    <h:selectOneMenu value="#{actorController.actor.subTipo2Poblacion}">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo2Poblacion}" />
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </h:panelGroup>
                                                                    <br/>
                                                                    <table style="width: 100%">
                                                                        <tr>
                                                                            <td style="padding-bottom: 5px">
                                                                                <b>Nombre:</b>
                                                                            </td>
                                                                            <td style="padding-bottom: 5px">
                                                                                <input type="text" jsf:value="#{actorController.actor.nombre}" id="idActorNombre" placeholder="Nombres" style="width:100%" maxlength="200"/>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="padding-bottom: 5px">
                                                                                <b>Apellido paterno:</b>
                                                                            </td>
                                                                            <td style="padding-bottom: 5px">
                                                                                <input type="text" jsf:value="#{actorController.actor.apellidoPat}" placeholder="Apellido paterno" style="width:100%" maxlength="70"/>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="padding-bottom: 5px">
                                                                                <b>Apellido materno</b>
                                                                            </td >
                                                                            <td style="padding-bottom: 5px">
                                                                                <input type="text" jsf:value="#{actorController.actor.apellidoMat}" placeholder="Apellido materno" style="width:100%" maxlength="70"/>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                    <br/>
                                                                    <table>
                                                                        <tr>
                                                                            <td>
                                                                                <label>Sexo:</label>
                                                                                <h:selectOneRadio value="#{actorController.actor.sexo}">
                                                                                    <f:selectItem itemValue="M" itemLabel="Masculino" />
                                                                                    <f:selectItem itemValue="F" itemLabel="Femenino" />
                                                                                </h:selectOneRadio>
                                                                            </td>
                                                                            <td style="width:50%">
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                    <br/>
                                                                    <br/>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td style="vertical-align:top;padding-left:5px">
                                                            <div class="panel panel-featured-top-primary">
                                                                <div class="panel-body">
                                                                    <span class="text-resalt-primary">Datos de contacto</span>
                                                                    <br/><br/><br/>
                                                                    <label>Dirección:</label>
                                                                    <textarea rows="3" jsf:value="#{actorController.actor.direccion}" style="width:100%;height:170px" placeholder="Dirección" maxlength="400"/>
                                                                    <br/>
                                                                    <table>
                                                                        <tr>
                                                                            <td><b>Teléfono: </b></td>
                                                                            <td style="padding-bottom: 5px">
                                                                                <input type="text" jsf:value="#{actorController.actor.telefono}" placeholder="Numero" style="width:100%" maxlength="20"/>
                                                                            </td>
                                                                            <td style="padding-bottom: 5px">
                                                                                <input type="text" jsf:value="#{actorController.actor.anexo}" placeholder="Anexo" style="width:100%" maxlength="20"/>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td><b>Correo eléctronico: </b></td>
                                                                            <td colspan="2">
                                                                                <input type="text" jsf:value="#{actorController.actor.email}" placeholder="Correo eléctronico" style="width:100%" maxlength="180"/>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2">
                                                            <script>
                                                                /*<![CDATA[*/
                                                                $(function () {
                                                                #{actorController.cadenaAutocompleteEmpresaEntidad}
                                                                    $("#actor-persona").autocomplete({
                                                                        minLength: 3, source: projects4,
                                                                        focus: function (event, ui) {
                                                                            $("#actor-persona").val(ui.item.label);
                                                                            return false;
                                                                        }, select: function (event, ui) {
                                                                            $("#actor-persona").val(ui.item.label);
                                                                            $("#actor-id-persona").val(ui.item.value);
                                                                            return false;
                                                                        }
                                                                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                                                                        return $("<li/>").append("<a>" + item.label + "<br/>" + item.desc + "</a>").appendTo(ul);
                                                                    };
                                                                });
                                                                /*]]>*/
                                                            </script>
                                                            <table style="width:100%">
                                                                <tr>
                                                                    <td style="width:50%;padding-right:5px;vertical-align:top">
                                                                        <div class="panel panel-featured-top-primary">
                                                                            <div class="panel-body">
                                                                                <span class="text-resalt-primary">Búsqueda de empresa o entidad</span>
                                                                                <br/>
                                                                                <script>
                                                                                    function limpiarCampoActorPersona(data) {
                                                                                        if (data.status === 'success') {
                                                                                            $('#actor-persona').val("");
                                                                                            $('#actor-id-persona').val("");
                                                                                            $("#loadModal").modal('hide');
                                                                                            $('body').removeClass('modal-open');
                                                                                            $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                        }
                                                                                    }                                                                       
                                                                                </script>
                                                                                <div id="idDivActorPersonaMiembro" class="form-group has-feedback" style="margin:auto;width:50%;text-align:left">
                                                                                    <input type="text" id="actor-persona" jsf:value="#{actorController.actorMiembroPesona.nombre}"/>
                                                                                    <input type="hidden" id="actor-id-persona" jsf:value="#{actorController.actorMiembroPesona.idActor}"/>
                                                                                    <a style="font-size:large;margin:auto" jsf:action="#{actorController.addMiembroPersona()}" jsf:onclick="loadingModal()">
                                                                                        <span class="glyphicon glyphicon-plus form-control-feedback"/>
                                                                                    </a>
                                                                                </div>
                                                                                <br/><br/>
                                                                                <h:dataTable value="#{actorController.listaMiembrosPersona}" var="persona" class="table table-striped" style="width:100%" binding="#{row20}" rendered="#{actorController.listaMiembrosPersona.size() > 0}">
                                                                                    <h:column>
                                                                                        <f:facet name="header">N.°</f:facet>
                                                                                        <h:outputText value="#{row20.rowIndex+1}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                        <h:outputText value="#{persona.nombre}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Cargo</f:facet>
                                                                                        <h:inputText value="#{persona.cargo}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.addMiembroGuardarPersona(persona)}" jsf:onclick="loadingModal()">
                                                                                            <span style="font-size:large" class="glyphicon glyphicon-floppy-disk"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.removeTempMiembroPersona(persona)}" jsf:onclick="loadingModal()">
                                                                                            <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                </h:dataTable>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td style="padding-left:5px;vertical-align:top">
                                                                        <div class="panel panel-featured-top-primary">
                                                                            <div class="panel-body">
                                                                                <span class="text-resalt-primary">Empresas o entidades añadidas</span>
                                                                                <br/>
                                                                                <h:dataTable value="#{actorController.listaMiembrosRegistradosPersona}" var="person" class="table table-striped" style="width:100%" rendered="#{actorController.listaMiembrosRegistradosPersona.size() > 0}">
                                                                                    <h:column>
                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                        <h:outputText value="#{person.nombre}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Cargo</f:facet>
                                                                                        <h:outputText value="#{person.cargo}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.removeMiembroRegistradoPersona(person)}" jsf:onclick="loadingModal()">
                                                                                            <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"></span>
                                                                                            <f:ajax render="@form" onevent="closeModal"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                </h:dataTable>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </h:panelGroup>
                <gc:confirmSubmit bean="#{actorController.actualizarActor()}"/>
                <script>
                    $(document).ready(function () {
                        $('#idBotonGuardar2').on('click', function () {
                            $("#idPanelBodyActuacion2").slideDown(400).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion").slideUp(300).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            if ($("input:checked").val() === "0") {
                                $('.idClasificacion').addClass('error');
                                alertar("Debe de ingresar la clasificacion");
                                return false;
                            }
                            else {
                                $('.idClasificacion').removeClass('error');
                            }
                            if ($('#idNombreEmpresa').val() === "")
                            {
                                $('#idNombreEmpresa').addClass('error');
                                alertar("Debe de ingresar el nombre de la organizacion");
                                return false;
                            }
                            else {
                                $('#idNombreEmpresa').removeClass('error');
                            }
                            if ($('#rucEmpresa').val() !== "") {
                                if ($('#rucEmpresa').val().length !== 11) {
                                    $('#rucEmpresa').addClass('error');
                                    alertar("El numero de RUC debe contar con 11 digitos");
                                    return false;
                                }
                            } else {
                                $('#rucEmpresa').removeClass('error');
                            }
                            confirmar2();
                            return false;
                        });
                    });
                    function confirmar2() {
                        $(".confirmacion2").modal('show');
                    }
                </script>
                <gc:confirmSubmit bean="#{actorController.registrarActorEmpresa()}" classGC="confirmacion2"/>
                <h:panelGroup id="idPanelEmpresa" rendered="#{actorController.empresa.tipoGeneral == 'EM'}">
                    <div class="panel panel-default" style="width:100%">
                        <div class="panel-heading">
                            <table style="width:100%">
                                <tr>
                                    <td>
                                        <span class="glyphicon glyphicon-user" style="font-size:medium"></span>
                                        <span class="text-resalt-comun">Editar Organización / empresa</span>
                                    </td>
                                    <td style="text-align:right">
                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                        <a class="btn btn-primary" id="idBotonGuardar2">
                                            <span class="glyphicon glyphicon-floppy-disk"/>Guardar
                                        </a>
                                        &#160;&#160;
                                        <a class="btn btn-danger" id="idBtnGuardar" jsf:action="#{actorController.regresarBusquedaEdit()}">
                                            <span class="glyphicon glyphicon-share"/>Regresar
                                        </a>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id="idPanelBodyActuacion2" class="panel-body">
                            <table style="width:100%">
                                <tr style="width:80%">
                                    <td>
                                        <div class="form-group">
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%;padding-right:5px;vertical-align:top">
                                                        <div class="panel panel-featured-top-primary">
                                                            <div class="panel-body">
                                                                <span class="text-resalt-primary">Datos generales</span>
                                                                <br/><br/><br/>
                                                                <h:panelGroup id="idPanelOrganizacionM">
                                                                    <h:selectOneRadio class="idClasificacion" onclick="loadingModal()" value="#{actorController.empresa.clasificacion}">
                                                                        <f:selectItem  itemLabel="Organización&#160;&#160;&#160;&#160;&#160;" itemValue="OR" />
                                                                        <f:selectItem  itemLabel="Empresa " itemValue="EM" />
                                                                        <f:ajax render="idPanelOrganizacionM" onevent="closeModal"/>
                                                                    </h:selectOneRadio>
                                                                    <br/>
                                                                    <h:panelGroup id="idPanelOrganizacion" rendered="#{actorController.empresa.clasificacion == 'OR'}">
                                                                        <table style="width: 100%">
                                                                            <tr>
                                                                                <td style="width: 34%">
                                                                                    <label>Tipo:</label>
                                                                                    <h:selectOneMenu class="form-control" value="#{actorController.empresa.tipoOrganizacion}" onchange="loadingModal()">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaTipoOrganizacion}" />
                                                                                        <f:ajax listener="#{actorController.cargarAjaxListaSubTipo1Organizacion()}" render="idPanelOrganizacion" onevent="closeModal"/>
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td style="width: 34%">
                                                                                    <label>Subtipo1:</label>
                                                                                    <h:selectOneMenu value="#{actorController.empresa.subTipo1Organizacion}" onchange="loadingModal()">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo1Organizacion}" />
                                                                                        <f:ajax listener="#{actorController.cargarAjaxListaSubTipo2Organizacion()}" render="idPanelOrganizacion" onevent="closeModal"/>
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td>
                                                                                    <label>Subtipo2:</label>
                                                                                    <h:selectOneMenu value="#{actorController.empresa.subTipo2Organizacion}">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo2Organizacion}" />
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </h:panelGroup>
                                                                    <h:panelGroup id="idPanelEmpresa2" rendered="#{actorController.empresa.clasificacion == 'EM'}">
                                                                        <table style="width: 100%">
                                                                            <tr>
                                                                                <td style="width: 25%">
                                                                                    <label>Tipo:</label>
                                                                                    <h:selectOneMenu value="#{actorController.empresa.tipoEmpresa}">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaTipoEmpresa}" />
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td style="width: 25%">
                                                                                    <label>Subtipo1:</label>
                                                                                    <h:selectOneMenu value="#{actorController.empresa.subTipo1Empresa}">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo1Empresa}" />
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td style="width: 25%">
                                                                                    <label>Subtipo2:</label>
                                                                                    <h:selectOneMenu value="#{actorController.empresa.subTipo2Empresa}" onchange="loadingModal()">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo2Empresa}" />
                                                                                        <f:ajax listener="#{actorController.cargarAjaxListaSubTipo3Empresa()}" render="idSubTipo3Orga" onevent="closeModal"/>
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                                <td style="width: 25%">
                                                                                    <label>Subtipo3:</label>
                                                                                    <h:selectOneMenu id="idSubTipo3Orga" value="#{actorController.empresa.subTipo3Empresa}">
                                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                        <f:selectItems value="#{actorController.listaSubTipo3Empresa}" />
                                                                                    </h:selectOneMenu>
                                                                                </td>
                                                                            </tr>
                                                                        </table>

                                                                    </h:panelGroup>
                                                                </h:panelGroup>
                                                                <br/>
                                                                <table style="width:100%">
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px">
                                                                            <b>Nombre:</b>
                                                                        </td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.empresa.nombre}" id="idNombreEmpresa" placeholder="Nombre" maxlength="250"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px">
                                                                            <b>RUC:</b>
                                                                        </td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.empresa.ruc}" id="rucEmpresa" placeholder="RUC" style="width:50%" onkeypress="return soloNumbero(event)" maxlength="11"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px">
                                                                            <b>Ámbito</b>
                                                                        </td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <h:selectOneMenu id="cmbAmbito" value="#{actorController.empresa.empresaAmbito}">
                                                                                <f:selectItem itemLabel="Seleccione" itemValue="0"/>
                                                                                <f:selectItems value="#{listasComunesController.buscarAmbito(false, false, false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                            </h:selectOneMenu>
                                                                            <br/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <b>Observaciones:</b>
                                                                        </td>
                                                                        <td>
                                                                            <textarea jsf:value="#{actorController.empresa.observaciones}" rows="3" style="width:100%;height:170px" placeholder="Observaciones" maxlength="800"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align:top;padding-left:5px">
                                                        <div class="panel panel-featured-top-primary">
                                                            <div class="panel-body">
                                                                <span class="text-resalt-primary">Datos de ubicación</span>
                                                                <br/><br/><br/>
                                                                <h:panelGroup id="idPanelUbigeoEmpresa1">
                                                                    <table style="width: 100%">
                                                                        <tr>
                                                                            <td style="width: 34%">
                                                                                <label>Departamento:</label><br/>
                                                                                <h:selectOneMenu value="#{actorController.empresa.idDepartamento}">
                                                                                    <f:selectItem itemLabel="Departamento" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaDepartamento}" var="y" itemLabel="#{y.value}" itemValue="#{y.label}" />
                                                                                    <f:ajax listener="#{actorController.comboProvinciaEmpresa()}" render="idPanelUbigeoEmpresa1" />
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td style="width: 34%">
                                                                                <label>Provincia:</label><br/>
                                                                                <h:selectOneMenu id="cmbProvincia2" value="#{actorController.empresa.idProvincia}">
                                                                                    <f:selectItem itemLabel="Provincia" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaProvincia}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                    <f:ajax listener="#{actorController.comboDistritoEmpresa()}" render="idPanelUbigeoEmpresa1" />
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td>
                                                                                <label>Distrito:</label><br/>
                                                                                <h:selectOneMenu id="cmbDistrito2" value="#{actorController.empresa.idDistrito}">
                                                                                    <f:selectItem itemLabel="Distrito" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaDistrito}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </h:panelGroup>
                                                                <br/>
                                                                <label>Dirección:</label>
                                                                <textarea rows="3" jsf:value="#{actorController.empresa.direccion}" style="width:100%;height:170px" placeholder="Dirección" maxlength="400"/>
                                                                <br/>
                                                                <table>
                                                                    <tr>
                                                                        <td><b>Teléfono: </b></td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.empresa.telefono}" placeholder="Numero" style="width:100%" maxlength="20"/>
                                                                        </td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.empresa.anexo}" placeholder="Anexo" style="width:100%" maxlength="20"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><b>Correo eléctronico: </b></td>
                                                                        <td colspan="2">
                                                                            <input type="text" jsf:value="#{actorController.empresa.email}" placeholder="Correo eléctronico" style="width:100%" maxlength="180"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                                <br/><br/><br/><br/><br/><br/>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">
                                                        <script>
                                                            /*<![CDATA[*/
                                                            $(function () {
                                                            #{actorController.cadenaAutocomplete}
                                                                $("#actor").autocomplete({
                                                                    minLength: 3,
                                                                    source: projects,
                                                                    focus: function (event, ui) {
                                                                        $("#actor").val(ui.item.label);
                                                                        return false;
                                                                    },
                                                                    select: function (event, ui) {
                                                                        $("#actor").val(ui.item.label);
                                                                        $("#actor-id").val(ui.item.value);
                                                                        return false;
                                                                    }
                                                                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                                                                    return $("<li/>").append("<a>" + item.label + "<br/>" + item.desc + "</a>").appendTo(ul);
                                                                };
                                                            });
                                                            /*]]>*/
                                                        </script>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">
                                                        <h:panelGroup rendered="#{actorController.empresa.id != null}">
                                                            <script>
                                                                /*<![CDATA[*/
                                                                $(function () {
                                                                    #{actorController.cadenaAutocomplete}
                                                                    $("#actor").autocomplete({
                                                                        minLength: 3,
                                                                        source: projects,
                                                                        focus: function (event, ui) {
                                                                            $("#actor").val(ui.item.label);
                                                                            return false;
                                                                        },
                                                                        select: function (event, ui) {
                                                                            $("#actor").val(ui.item.label);
                                                                            $("#actor-id").val(ui.item.value);
                                                                            return false;
                                                                        }
                                                                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                                                                        return $("<li/>").append("<a>" + item.label + "<br/>" + item.desc + "</a>").appendTo(ul);
                                                                    };
                                                                });
                                                                /*]]>*/
                                                            </script>
                                                            <table style="width:100%">
                                                                <tr>
                                                                    <td style="width:50%;padding-right:5px;vertical-align:top">
                                                                        <div class="panel panel-featured-top-primary">
                                                                            <div class="panel-body">
                                                                                <span class="text-resalt-primary">Búsqueda de miembros</span>
                                                                                <br/>
                                                                                <script>
                                                                                    function limpiarCampoActor(data) {
                                                                                        if (data.status === 'success') {
                                                                                            $('#actor').val("");
                                                                                            $('#actor-id').val("");
                                                                                            $("#loadModal").modal('hide');
                                                                                            $('body').removeClass('modal-open');
                                                                                            $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                        }
                                                                                    }
                                                                                </script>
                                                                                <div id="idDivActorMiembro" class="form-group has-feedback" style="width:50%;text-align:left">
                                                                                    <input type="text" id="actor" jsf:value="#{actorController.actorMiembro.nombre}" />
                                                                                    <input type="hidden" jsf:value="#{actorController.actorMiembro.idMiembro}" id="actor-id" />
                                                                                    <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                    <a style="font-size:large;margin:auto" jsf:action="#{actorController.addMiembro()}" jsf:onclick="loadingModal()">
                                                                                        <span class="glyphicon glyphicon-plus form-control-feedback"/>
                                                                                        <f:ajax render="@form" execute="@form" onevent="limpiarCampoActor"/>
                                                                                    </a>
                                                                                        </h:panelGroup>
                                                                                </div>
                                                                                <br/><br/>
                                                                                <h:dataTable value="#{actorController.listaMiembros}" var="mienbroE" id="idDatatableMiembros" class="table table-striped" style="width:100%" binding="#{rowd}" rendered="#{actorController.listaMiembros.size() > 0}">
                                                                                    <h:column>
                                                                                        <f:facet name="header">N.°</f:facet>
                                                                                        <h:outputText value="#{rowd.rowIndex+1}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                        <h:outputText value="#{mienbroE.nombre}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Cargo</f:facet>
                                                                                        <h:inputText value="#{mienbroE.cargo}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.addMiembroGuardar(mienbroE)}" jsf:onclick="loadingModal()">
                                                                                            <span style="font-size:large" class="glyphicon glyphicon-floppy-disk"></span>
                                                                                            <f:ajax render="@form" execute="@form" onevent="closeModal"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.removeTempMiembro(mienbroE)}" jsf:onclick="loadingModal()">
                                                                                            <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"></span>
                                                                                            <f:ajax render="@form" onevent="closeModal"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                </h:dataTable>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td style="padding-left:5px;vertical-align:top">
                                                                        <div class="panel panel-featured-top-primary">
                                                                            <div class="panel-body">
                                                                                <span class="text-resalt-primary">Miembros añadidos en la empresa</span>
                                                                                <br/>
                                                                                <h:dataTable value="#{actorController.listaMiembrosRegistrados}" var="mienbrosEm" id="idDatatableMiembrosRegistradosEmp" class="table table-striped" style="width:100%" binding="#{row2e}" rendered="#{actorController.listaMiembrosRegistrados.size() > 0}">
                                                                                    <h:column>
                                                                                        <f:facet name="header">N.°</f:facet>
                                                                                        <h:outputText value="#{row2e.rowIndex+1}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                        <h:outputText value="#{mienbrosEm.nombre}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Cargo</f:facet>
                                                                                        <h:outputText value="#{mienbrosEm.cargo}"/>
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                        <a jsf:action="#{actorController.removeMiembroRegistrado(mienbrosEm)}" jsf:onclick="loadingModal()">
                                                                                            <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"></span>
                                                                                            <f:ajax render="@form" onevent="closeModal"/>
                                                                                        </a>
                                                                                            </h:panelGroup>
                                                                                    </h:column>
                                                                                </h:dataTable>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </h:panelGroup>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </h:panelGroup>
                <script>
                    $(document).ready(function () {
                        $('#idBotonGuardar3').on('click', function () {
                            $("#idPanelBodyActuacion3").slideDown(400).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion").slideUp(300).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            if ($('#idNombreEntidad').val() === "") {
                                $('#idNombreEntidad').addClass('error');
                                alertar("Debe de ingresar el nombre de la entidad");
                                return false;
                            }
                            else {
                                $('#idNombreEntidad').removeClass('error');
                            }
                            if ($('#idRucEntidad').val() !== "") {
                                if ($('#idRucEntidad').val().length !== 11) {
                                    $('#idRucEntidad').addClass('error');
                                    alertar("El numero de RUC debe contar con 11 digitos");
                                    return false;
                                } else {
                                    $('#idRucEntidad').removeClass('error');
                                }
                            }
                            confirmar3();
                            return false;
                        });
                    });
                    function confirmar3() {
                        $(".confirmacion3").modal('show');
                    }</script>
                <gc:confirmSubmit bean="#{actorController.registrarActorEntidad()}" classGC="confirmacion3"/>
                <h:panelGroup id="idPanelEntidad" rendered="#{actorController.entidad.tipoGeneral == 'EN'}">
                    <div class="panel panel-default" style="width:100%">
                        <div class="panel-heading">
                            <table style="width:100%">
                                <tr>
                                    <td>
                                        <span class="glyphicon glyphicon-user" style="font-size:medium"></span>
                                        <span class="text-resalt-comun">Editar Entidad estatal</span>
                                    </td>
                                    <td style="text-align:right">
                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                        <a class="btn btn-primary" id="idBotonGuardar3">
                                            <span class="glyphicon glyphicon-floppy-disk"/>Guardar
                                        </a>
                                        &#160;&#160;
                                        <a class="btn btn-danger" id="idBtnGuardar" jsf:action="#{actorController.regresarBusquedaEdit()}">
                                            <span class="glyphicon glyphicon-share"/>Regresar
                                        </a>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id="idPanelBodyActuacion3" class="panel-body">
                            <table style="width:100%">
                                <tr style="width:80%">
                                    <td>
                                        <div class="form-group">
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%;padding-right:5px;vertical-align:top">
                                                        <div class="panel panel-featured-top-primary">
                                                            <div class="panel-body">
                                                                <span class="text-resalt-primary">Datos generales</span>
                                                                <br/><br/><br/>
                                                                <h:panelGroup id="idPanelEstado">
                                                                    <table style="width: 100%">
                                                                        <tr>
                                                                            <td style="width: 34%">
                                                                                <label>Tipo:</label>
                                                                                <h:selectOneMenu value="#{actorController.entidad.tipoEstado}" onchange="loadingModal()">
                                                                                    <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                    <f:selectItems value="#{actorController.listaTipoEstado}" />
                                                                                    <f:ajax listener="#{actorController.cargarAjaxListaSubTipo1Estado()}" render="idPanelEstado" onevent="closeModal"/>
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td style="width: 34%">
                                                                                <label>Subtipo1:</label>
                                                                                <h:selectOneMenu value="#{actorController.entidad.subTipo1Estado}" onchange="loadingModal()">
                                                                                    <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                    <f:selectItems value="#{actorController.listaSubTipo1Estado}" />
                                                                                    <f:ajax listener="#{actorController.cargarAjaxListaSubTipo2Estado()}" render="idPanelEstado" onevent="closeModal"/>
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td>
                                                                                <label>Subtipo2:</label>
                                                                                <h:selectOneMenu value="#{actorController.entidad.subTipo2Estado}">
                                                                                    <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                                    <f:selectItems value="#{actorController.listaSubTipo2Estado}" />
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </h:panelGroup>
                                                                <br/>
                                                                <table style="width:100%">

                                                                    <tr>
                                                                        <td style="padding-bottom: 5px"><b>Nombre:</b></td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.entidad.nombre}" id="idNombreEntidad" placeholder="Nombre" maxlength="250"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px"><b>RUC:</b></td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.entidad.ruc}" id="idRucEntidad" placeholder="RUC" style="width:50%" onkeypress="return soloNumbero(event)" maxlength="11" />
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px"><b>Observaciones:</b></td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <textarea jsf:value="#{actorController.entidad.observaciones}" rows="3" style="width:100%;height:170px" placeholder="Observaciones" maxlength="800"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align:top;padding-left:5px">
                                                        <div class="panel panel-featured-top-primary">
                                                            <div class="panel-body">
                                                                <span class="text-resalt-primary">Datos de ubicación</span>
                                                                <br/><br/><br/>
                                                                <h:panelGroup id="idPanelUbigeoEntidad1">
                                                                    <table style="width: 100%">
                                                                        <tr>
                                                                            <td style="width: 34%">
                                                                                <label>Departamento:</label><br/>
                                                                                <h:selectOneMenu value="#{actorController.entidad.idDepartamento}" onchange="loadingModal()">
                                                                                    <f:selectItem itemLabel="Departamento" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaDepartamento}" var="y" itemLabel="#{y.value}" itemValue="#{y.label}" />
                                                                                    <f:ajax listener="#{actorController.comboProvinciaEntidad()}" render="idPanelUbigeoEntidad1" onevent="closeModal"/>
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td style="width: 34%">
                                                                                <label>Provincia:</label><br/>
                                                                                <h:selectOneMenu value="#{actorController.entidad.idProvincia}" onchange="loadingModal()">
                                                                                    <f:selectItem itemLabel="Provincia" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaProvincia}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                    <f:ajax listener="#{actorController.comboDistritoEntidad()}" render="idPanelUbigeoEntidad1" onevent="closeModal"/>
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                            <td>
                                                                                <label>Distrito:</label><br/>
                                                                                <h:selectOneMenu value="#{actorController.entidad.idDistrito}">
                                                                                    <f:selectItem itemLabel="Distrito" itemValue="0"/>
                                                                                    <f:selectItems value="#{actorController.listaDistrito}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                </h:selectOneMenu>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </h:panelGroup>
                                                                <br/>
                                                                <label>Dirección:</label>
                                                                <textarea rows="3" jsf:value="#{actorController.entidad.direccion}" style="width:100%;height:170px" placeholder="Dirección" maxlength="400"/>
                                                                <br/>
                                                                <table>
                                                                    <tr>
                                                                        <td style="padding-bottom: 5px"><b>Teléfono: </b></td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.entidad.telefono}" placeholder="Numero" style="width:100%" maxlength="20"/>
                                                                        </td>
                                                                        <td style="padding-bottom: 5px">
                                                                            <input type="text" jsf:value="#{actorController.entidad.anexo}" placeholder="Anexo" style="width:100%" maxlength="20"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><b>Correo eléctronico: </b></td>
                                                                        <td colspan="2">
                                                                            <input type="text" jsf:value="#{actorController.entidad.email}" placeholder="Correo eléctronico" style="width:100%" maxlength="180"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                                <br/><br/>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">
                                                        <script>
                                                            /*<![CDATA[*/
                                                            $(function () {
                                                            #{actorController.cadenaAutocomplete}
                                                                $("#actor-entidad").autocomplete({
                                                                    minLength: 3,
                                                                    source: projects,
                                                                    focus: function (event, ui) {
                                                                        $("#actor-entidad").val(ui.item.label);
                                                                        return false;
                                                                    },
                                                                    select: function (event, ui) {
                                                                        $("#actor-entidad").val(ui.item.label);
                                                                        $("#actor-id-entidad").val(ui.item.value);
                                                                        return false;
                                                                    }
                                                                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                                                                    return $("<li/>").append("<a>" + item.label + "<br/>" + item.desc + "</a>").appendTo(ul);
                                                                };
                                                            });
                                                            /*]]>*/
                                                        </script>
                                                        <table style="width:100%">
                                                            <tr>
                                                                <td style="width:50%;vertical-align:top;padding-right:5px">
                                                                    <div class="panel panel-featured-top-primary">
                                                                        <div class="panel-body">
                                                                            <span class="text-resalt-primary">Búsqueda de funcionarios</span>
                                                                            <br/>
                                                                            <script>
                                                                                function limpiarCampoActorEntidad(data) {
                                                                                    if (data.status === 'success') {
                                                                                        $('#actor-entidad').val("");
                                                                                        $('#actor-id-entidad').val("");
                                                                                        $("#loadModal").modal('hide');
                                                                                        $('body').removeClass('modal-open');
                                                                                        $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                    }
                                                                                }
                                                                            </script>
                                                                            <div id="idDivActorMiembroEntidad" class="form-group has-feedback" style="width:50%">
                                                                                <input type="text" id="actor-entidad" jsf:value="#{actorController.actorMiembroEntidad.nombre}"/>
                                                                                <input type="hidden" jsf:value="#{actorController.actorMiembroEntidad.idMiembro}" id="actor-id-entidad" />
                                                                                <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                <a style="float:right;font-size:large;margin:auto" jsf:action="#{actorController.addMiembroEntidad()}" jsf:onclick="loadingModal()">
                                                                                    <span class="glyphicon glyphicon-plus form-control-feedback"/>
                                                                                    <f:ajax render="@form" execute="@form" onevent="limpiarCampoActorEntidad"/>
                                                                                </a>
                                                                                    </h:panelGroup>
                                                                            </div>
                                                                            <br/><br/>
                                                                            <h:dataTable value="#{actorController.listaMiembrosEntidad}" var="mien" id="idDatatableMiembrosEntidad" class="table table-striped" style="width:100%" binding="#{row10}" rendered="#{actorController.listaMiembrosEntidad.size() > 0}">
                                                                                <h:column>
                                                                                    <f:facet name="header">N.°</f:facet>
                                                                                    <h:outputText value="#{row10.rowIndex+1}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Nombre</f:facet>
                                                                                    <h:outputText value="#{mien.nombre}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Cargo</f:facet>
                                                                                    <h:inputText value="#{mien.cargo}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                    <a jsf:action="#{actorController.addMiembroGuardarEntidad(mien)}" jsf:onclick="loadingModal()">
                                                                                        <span style="font-size:large" class="glyphicon glyphicon-floppy-disk"></span>
                                                                                        <f:ajax render="@form" execute="@form" onevent="closeModal"/>
                                                                                    </a>
                                                                                        </h:panelGroup>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                    <a jsf:action="#{actorController.removeTempMiembroEntidad(mien)}" jsf:onclick="loadingModal()">
                                                                                        <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"></span>
                                                                                        <f:ajax render="@form" onevent="closeModal"/>
                                                                                    </a>
                                                                                        </h:panelGroup>
                                                                                </h:column>
                                                                            </h:dataTable>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <td style="width:50%;vertical-align:top;padding-left:5px">
                                                                    <div class="panel panel-featured-top-primary">
                                                                        <div class="panel-body">
                                                                            <span class="text-resalt-primary">Funcionarios añadidos en la Entidad</span>
                                                                            <br/>
                                                                            <h:dataTable value="#{actorController.listaMiembrosRegistradosEntidad}" var="mienbrs" id="idDatatableMiembrosRegistradosEntidad" class="table table-striped" style="width:100%" binding="#{row11}" rendered="#{actorController.listaMiembrosRegistradosEntidad.size() > 0}">
                                                                                <h:column>
                                                                                    <f:facet name="header">N.°</f:facet>
                                                                                    <h:outputText value="#{row11.rowIndex+1}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Nombre</f:facet>
                                                                                    <h:outputText value="#{mienbrs.nombre}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Cargo</f:facet>
                                                                                    <h:outputText value="#{mienbrs.cargo}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_002')}">
                                                                                    <a jsf:action="#{actorController.removeMiembroRegistradoEntidad(mienbrs)}" jsf:onclick="loadingModal()">
                                                                                        <span style="color:red;font-size:large" class="glyphicon glyphicon-remove"></span>
                                                                                        <f:ajax render="@form" onevent="closeModal"/>
                                                                                    </a>
                                                                                        </h:panelGroup>
                                                                                </h:column>
                                                                            </h:dataTable>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </h:panelGroup>
                <script>
                    function openRegistroPersona(data) {
                        if (data.status === 'success') {
                            $("#idPanelBodyActuacion").slideDown(400).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#loadModal").modal('hide');
                            $('body').removeClass('modal-open');
                            $(".modal-backdrop").removeClass("modal-backdrop");
                        }
                    }
                    if ($('#idActorNombre').val() === '') {
                        $("#idPanelBodyActuacion").hide();
                        $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                    } else {
                        $("#spanAddActuacion").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                    }
                    $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                    var i = 1;
                    $("#addActuacion").click(function () {
                        if (i === 1) {
                            $("#idPanelBodyActuacion").slideDown(400).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            i = 2;
                        } else {
                            $("#idPanelBodyActuacion").slideUp(300).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            i = 1;
                        }
                    });
                    if ($('#idNombreEmpresa').val() === '') {
                        $("#idPanelBodyActuacion2").hide();
                        $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                    } else {
                        $("#spanAddActuacion2").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                    }
                    var i = 1;
                    $("#addActuacion2").click(function () {
                        if (i === 1) {
                            $("#idPanelBodyActuacion2").slideDown(400).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion").slideUp(300).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            i = 2;
                        } else {
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            i = 1;
                        }
                    });
                    if ($('#idNombreEntidad').val() === '') {
                        $("#idPanelBodyActuacion3").hide();
                        $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                    } else {
                        $("#spanAddActuacion3").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                    }
                    var k = 1;
                    $("#addActuacion3").click(function () {
                        if (k === 1) {
                            $("#idPanelBodyActuacion3").slideDown(400).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-plus").addClass("glyphicon-minus");
                            $("#idPanelBodyActuacion2").slideUp(300).delay(800);
                            $("#spanAddActuacion2").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            $("#idPanelBodyActuacion").slideUp(300).delay(800);
                            $("#spanAddActuacion").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            k = 2;
                        } else {
                            $("#idPanelBodyActuacion3").slideUp(300).delay(800);
                            $("#spanAddActuacion3").removeClass("glyphicon-minus").addClass("glyphicon-plus");
                            k = 1;
                        }
                    });
                    $('.datepicker').datetimepicker({pickTime: false});
                    $(".datepicker").on("changeDate", function (ev) {
                        $(this).datetimepicker("hide");
                    });
                </script>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
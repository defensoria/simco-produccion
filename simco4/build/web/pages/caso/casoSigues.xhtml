<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form id="idForm" class="form-horizontal">
                <script>
                    sessionStorage.setItem("menuHijoSession", "Panel");                
                </script>
                <table style="width:100%">
                    <tr>
                        <td style="vertical-align:top">
                            <div class="panel panel-default">
                                <br/>
                                <table style="width:100%">
                                    <tr>
                                        <td>
                                            <span class="text-titulo-primary-simco">Casos pendientes de aprobación</span>
                                        </td>
                                        <td style="text-align:right;padding-right:10px">
                                            <a class="btn btn-primary" jsf:action="#{casoController.cargarCasoFicha()}">
                                                Proponer caso
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                                <div class="panel-body">
                                    <h:dataTable value="#{casoController.casos}" var="caso" binding="#{item}" style="width:100%" class="table table-hover">
                                        <h:column>
                                            <f:facet name="header">N.°</f:facet>
                                            <h:outputText value="#{item.rowIndex+1}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Código</f:facet>
                                            <h:outputText value="#{caso.codigo}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Nombre</f:facet>
                                            <h:outputText value="#{caso.nombre}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Comisionado</f:facet>
                                            <h:outputText value="#{caso.nombreComisionadoRegistro}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Creacion</f:facet>
                                            <h:outputText value="#{caso.creacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Modificacion</f:facet>
                                            <h:outputText value="#{caso.modificacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Publicacion</f:facet>
                                            <h:outputText value="#{caso.fechaPublicacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <a jsf:action="#{casoController.setearFichaCaso(caso)}">
                                                <span class="glyphicon glyphicon-edit" style="font-size:large"></span>
                                            </a>
                                        </h:column>
                                    </h:dataTable>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </h:form>
        </ui:define>
    </ui:composition>
</html>